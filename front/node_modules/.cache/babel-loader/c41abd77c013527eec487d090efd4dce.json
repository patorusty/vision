{"remainingRequest":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js!/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patorusty/dev/web/vision/front/src/views/pages/Administracion/Companias/Coberturas/ModalCoberturas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patorusty/dev/web/vision/front/src/views/pages/Administracion/Companias/Coberturas/ModalCoberturas.vue","mtime":1613949151487},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3BhdG9ydXN0eS9kZXYvd2ViL3Zpc2lvbi9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9wYXRvcnVzdHkvZGV2L3dlYi92aXNpb24vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGhlbHBlcnMgfSBmcm9tICIuLi8uLi8uLi8uLi8uLi9oZWxwZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2hlbHBlcnNdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlczogewogICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbiByZXF1aXJlZCh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuICEhdmFsdWUgfHwgIkVzdGUgY2FtcG8gb2JsaWdhdG9yaW8iOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYWp1c3RlczogWyIwICUiLCAiMTAgJSIsICIyMCAlIiwgIjMwICUiXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSgiY29tcGFuaWEiLCBbImNvbXBhbmlhIl0pLCB7fSwgbWFwU3RhdGUoImNvYmVydHVyYSIsIFsiY29iZXJ0dXJhIl0pLCB7fSwgbWFwU3RhdGUoIm1vZGFsIiwgWyJtb2RhbDMiLCAiZWRpY2lvbjMiXSkpLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoImNvYmVydHVyYSIsIFsicmVzZXRDb2JlcnR1cmFTdGF0ZSIsICJ1cGRhdGVDb2JlcnR1cmEiLCAiY3JlYXRlQ29iZXJ0dXJhIl0pLCB7fSwgbWFwTXV0YXRpb25zKCJtb2RhbCIsIFsiSElERV9NT0RBTDMiXSksIHt9LCBtYXBNdXRhdGlvbnMoImNvYmVydHVyYSIsIFsiUkVTRVRfQ09CRVJUVVJBIl0pLCB7CiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNyZWF0ZVJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuY29iZXJ0dXJhLmNvbXBhbmlhX2lkID0gX3RoaXMuY29tcGFuaWEuaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jcmVhdGVDb2JlcnR1cmEoX3RoaXMuY29iZXJ0dXJhKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY3JlYXRlUmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoY3JlYXRlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlTW9kYWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciB1cGRhdGVSZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIudXBkYXRlQ29iZXJ0dXJhKF90aGlzMi5jb2JlcnR1cmEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB1cGRhdGVSZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAodXBkYXRlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5jbG9zZU1vZGFsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuSElERV9NT0RBTDMoZmFsc2UpOwogICAgICB0aGlzLlJFU0VUX0NPQkVSVFVSQSgpOwogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgIHRoaXMuY29iVXNhZGEgPSBmYWxzZTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgbW9kYWwzOiBmdW5jdGlvbiBtb2RhbDMoKSB7CiAgICAgIGlmICghdGhpcy5tb2RhbDMpIHsKICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ModalCoberturas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA,SAAA,QAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AACA,SAAA,OAAA,QAAA,wBAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,OAAA,CADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,wBAAA;AAAA;AADA,OADA;AAIA,MAAA,OAAA,EAAA,CAAA,KAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA;AAJA,KAAA;AAAA,GAFA;AAQA,EAAA,QAAA,oBACA,QAAA,CAAA,UAAA,EAAA,CAAA,UAAA,CAAA,CADA,MAEA,QAAA,CAAA,WAAA,EAAA,CAAA,WAAA,CAAA,CAFA,MAGA,QAAA,CAAA,OAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CAAA,CAHA,CARA;AAaA,EAAA,OAAA,oBACA,UAAA,CAAA,WAAA,EAAA,CACA,qBADA,EAEA,iBAFA,EAGA,iBAHA,CAAA,CADA,MAMA,YAAA,CAAA,OAAA,EAAA,CAAA,aAAA,CAAA,CANA,MAOA,YAAA,CAAA,WAAA,EAAA,CAAA,iBAAA,CAAA,CAPA;AAQA,IAAA,MARA,oBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,SAAA,CAAA,WAAA,GAAA,KAAA,CAAA,QAAA,CAAA,EAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,eAAA,CAAA,KAAA,CAAA,SAAA,CAHA;;AAAA;AAGA,gBAAA,YAHA;;AAIA,oBAAA,YAAA,EAAA;AACA,kBAAA,KAAA,CAAA,UAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAhBA;AAiBA,IAAA,MAjBA,oBAiBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,MAAA,CAAA,eAAA,CAAA,MAAA,CAAA,SAAA,CAFA;;AAAA;AAEA,gBAAA,YAFA;;AAGA,oBAAA,YAAA,EAAA;AACA,kBAAA,MAAA,CAAA,UAAA;AACA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAxBA;AAyBA,IAAA,UAzBA,wBAyBA;AACA,WAAA,WAAA,CAAA,KAAA;AACA,WAAA,eAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,eAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA;AA9BA,IAbA;AA6CA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,UAAA,CAAA,KAAA,MAAA,EAAA;AACA,aAAA,UAAA;AACA;AACA;AALA;AA7CA,CAAA","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      <span>Cobertura</span>\n    </v-card-title>\n    <v-card-text class=\"pb-0\">\n      <v-container>\n        <v-form ref=\"form\">\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"Nombre\"\n                v-model=\"cobertura.nombre\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-switch\n                v-model=\"cobertura.todo_riesgo\"\n                label=\"Todo Riesgo\"\n              ></v-switch>\n            </v-col>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"Franquicia\"\n                v-model=\"cobertura.franquicia\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"AntigÃ¼edad\"\n                v-model=\"cobertura.antiguedad\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n            <v-col class=\"py-0\">\n              <v-select\n                label=\"Ajuste\"\n                v-model=\"cobertura.ajuste\"\n                :items=\"ajustes\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-textarea\n                rows=\"2\"\n                label=\"Detalle\"\n                v-model=\"cobertura.detalle\"\n              >\n              </v-textarea>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-switch\n                v-model=\"cobertura.activo\"\n                label=\"Cobertura Activa?\"\n              ></v-switch>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-container>\n    </v-card-text>\n    <v-card-actions class=\" pt-0 d-flex justify-end\">\n      <v-btn\n        class=\"mb-2\"\n        color=\"red\"\n        text\n        @click=\"closeModal\"\n      >Cerrar</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-if=\"!edicion3\"\n        color=\"green\"\n        @click=\"create\"\n        text\n        native-type=\"submit\"\n      >Crear</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-else\n        @click=\"update\"\n        text\n        color=\"green\"\n      >Guardar</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { helpers } from \"../../../../../helpers\";\n\nexport default {\n  mixins: [helpers],\n  data: () => ({\n    rules: {\n      required: value => !!value || \"Este campo obligatorio\"\n    },\n    ajustes: [\"0 %\", \"10 %\", \"20 %\", \"30 %\"]\n  }),\n  computed: {\n    ...mapState(\"compania\", [\"compania\"]),\n    ...mapState(\"cobertura\", [\"cobertura\"]),\n    ...mapState(\"modal\", [\"modal3\", \"edicion3\"])\n  },\n  methods: {\n    ...mapActions(\"cobertura\", [\n      \"resetCoberturaState\",\n      \"updateCobertura\",\n      \"createCobertura\"\n    ]),\n    ...mapMutations(\"modal\", [\"HIDE_MODAL3\"]),\n    ...mapMutations(\"cobertura\", [\"RESET_COBERTURA\"]),\n    async create() {\n      if (this.$refs.form.validate()) {\n        this.cobertura.compania_id = this.compania.id;\n        const createResult = await this.createCobertura(this.cobertura);\n        if (createResult) {\n          this.closeModal();\n        }\n      }\n    },\n    async update() {\n      if (this.$refs.form.validate()) {\n        const updateResult = await this.updateCobertura(this.cobertura);\n        if (updateResult) {\n          this.closeModal();\n        }\n      }\n    },\n    closeModal() {\n      this.HIDE_MODAL3(false);\n      this.RESET_COBERTURA();\n      this.$refs.form.resetValidation();\n      this.cobUsada = false;\n    }\n  },\n  watch: {\n    modal3() {\n      if (!this.modal3) {\n        this.closeModal();\n      }\n    }\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views/pages/Administracion/Companias/Coberturas"}]}