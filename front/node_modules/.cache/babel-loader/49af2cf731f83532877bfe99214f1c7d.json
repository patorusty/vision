{"remainingRequest":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js!/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patorusty/dev/web/vision/front/src/views/pages/Polizas/Endosos/ModalEndosos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patorusty/dev/web/vision/front/src/views/pages/Polizas/Endosos/ModalEndosos.vue","mtime":1632439885523},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3BhdG9ydXN0eS9kZXYvd2ViL3Zpc2lvbi9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9wYXRvcnVzdHkvZGV2L3dlYi92aXNpb24vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGhlbHBlcnMgfSBmcm9tICIuLi8uLi8uLi8uLi9oZWxwZXJzIjsKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2hlbHBlcnNdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmZWNoYVNvbGljaXR1ZDogZmFsc2UsCiAgICAgIGZlY2hhRW1pc2lvbjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoImVuZG9zbyIsIFsiZW5kb3NvIiwgInRpcG9fZW5kb3NvcyIsICJkZXRhbGxlX2VuZG9zb3MiXSksIHt9LCBtYXBTdGF0ZSgibW9kYWwiLCBbIm1vZGFsMiIsICJlZGljaW9uMiJdKSwge30sIG1hcFN0YXRlKCJwb2xpemEiLCBbInBvbGl6YSJdKSwgewogICAgZGV0YWxsZV9lbmRvc29zX3Bvcl90aXBvOiBmdW5jdGlvbiBkZXRhbGxlX2VuZG9zb3NfcG9yX3RpcG8oKSB7CiAgICAgIHJldHVybiB0aGlzLmVuZG9zby50aXBvX2VuZG9zb19pZCA9PSAxID8gdGhpcy5kZXRhbGxlX2VuZG9zb3MuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUudGlwb19lbmRvc29faWQgPT0gMTsKICAgICAgfSkgOiB0aGlzLmRldGFsbGVfZW5kb3Nvcy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS50aXBvX2VuZG9zb19pZCA9PSAyOwogICAgICB9KTsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBNdXRhdGlvbnMoIm1vZGFsIiwgWyJISURFX01PREFMMiJdKSwge30sIG1hcE11dGF0aW9ucygiZW5kb3NvIiwgWyJSRVNFVF9FTkRPU08iXSksIHt9LCBtYXBBY3Rpb25zKCJlbmRvc28iLCBbImNyZWF0ZUVuZG9zbyIsICJ1cGRhdGVFbmRvc28iXSksIHsKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY3JlYXRlUmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5lbmRvc28ucG9saXphX2lkID0gX3RoaXMucG9saXphLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlRW5kb3NvKF90aGlzLmVuZG9zbyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGNyZWF0ZVJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZU1vZGFsKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdXBkYXRlUmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZUVuZG9zbyhfdGhpczIuZW5kb3NvKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdXBkYXRlUmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuY2xvc2VNb2RhbCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLkhJREVfTU9EQUwyKGZhbHNlKTsKICAgICAgdGhpcy5SRVNFVF9FTkRPU08oKTsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0VmFsaWRhdGlvbigpOwogICAgICB0aGlzLmNwVXNhZG8gPSBmYWxzZTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgbW9kYWwyOiBmdW5jdGlvbiBtb2RhbDIoKSB7CiAgICAgIGlmICghdGhpcy5tb2RhbDIpIHsKICAgICAgICB0aGlzLmNsb3NlTW9kYWwoKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["ModalEndosos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA,SAAA,QAAA,EAAA,UAAA,EAAA,YAAA,QAAA,MAAA;AACA,SAAA,OAAA,QAAA,qBAAA;AAEA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,OAAA,CADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAAA,GAFA;AAMA,EAAA,QAAA,oBACA,QAAA,CAAA,QAAA,EAAA,CAAA,QAAA,EAAA,cAAA,EAAA,iBAAA,CAAA,CADA,MAEA,QAAA,CAAA,OAAA,EAAA,CAAA,QAAA,EAAA,UAAA,CAAA,CAFA,MAGA,QAAA,CAAA,QAAA,EAAA,CAAA,QAAA,CAAA,CAHA;AAIA,IAAA,wBAJA,sCAIA;AACA,aAAA,KAAA,MAAA,CAAA,cAAA,IAAA,CAAA,GACA,KAAA,eAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,cAAA,IAAA,CAAA;AAAA,OAAA,CADA,GAEA,KAAA,eAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,cAAA,IAAA,CAAA;AAAA,OAAA,CAFA;AAGA;AARA,IANA;AAgBA,EAAA,OAAA,oBACA,YAAA,CAAA,OAAA,EAAA,CAAA,aAAA,CAAA,CADA,MAEA,YAAA,CAAA,QAAA,EAAA,CAAA,cAAA,CAAA,CAFA,MAGA,UAAA,CAAA,QAAA,EAAA,CAAA,cAAA,EAAA,cAAA,CAAA,CAHA;AAIA,IAAA,MAJA,oBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,MAAA,CAAA,SAAA,GAAA,KAAA,CAAA,MAAA,CAAA,EAAA;AAFA;AAAA,uBAGA,KAAA,CAAA,YAAA,CAAA,KAAA,CAAA,MAAA,CAHA;;AAAA;AAGA,gBAAA,YAHA;;AAIA,oBAAA,YAAA,EAAA;AACA,kBAAA,KAAA,CAAA,UAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KAZA;AAaA,IAAA,MAbA,oBAaA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEA,MAAA,CAAA,YAAA,CAAA,MAAA,CAAA,MAAA,CAFA;;AAAA;AAEA,gBAAA,YAFA;;AAGA,oBAAA,YAAA,EAAA;AACA,kBAAA,MAAA,CAAA,UAAA;AACA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,WAAA,WAAA,CAAA,KAAA;AACA,WAAA,YAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,eAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA;AA1BA,IAhBA;AA4CA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,UAAA,CAAA,KAAA,MAAA,EAAA;AACA,aAAA,UAAA;AACA;AACA;AALA;AA5CA,CAAA","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      <span>Endosos</span>\n    </v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-form ref=\"form\">\n          <v-row>\n            <v-col\n              cols=\"6\"\n              class=\" mt-0 py-0\"\n            >\n              <v-menu\n                v-model=\"fechaSolicitud\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    :value=\"formatDate(endoso.fecha_solicitud)\"\n                    @click:clear=\"\n                          $nextTick(() => (endoso.fecha_solicitud = null))\n                        \"\n                    clearable\n                    label=\"Fecha de Solicitud\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  v-model=\"endoso.fecha_solicitud\"\n                  clearable\n                  color=\"primary lighten-1\"\n                  no-title\n                  scrollable\n                  locale=\"es-la\"\n                  @input=\"fechaSolicitud = false\"\n                >\n                </v-date-picker>\n              </v-menu>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-select\n                label=\"Tipo Endoso\"\n                v-model=\"endoso.tipo_endoso_id\"\n                :items=\"tipo_endosos\"\n                item-text=\"nombre\"\n                item-value=\"id\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n            <v-col class=\" mt-0 py-0\">\n              <v-select\n                label=\"Detalle Endoso\"\n                v-model=\"endoso.detalle_endoso_id\"\n                :items=\"detalle_endosos_por_tipo\"\n                item-text=\"nombre\"\n                item-value=\"id\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n          </v-row>\n\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-menu\n                v-model=\"fechaEmision\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    :value=\"formatDate(endoso.fecha_emision)\"\n                    @click:clear=\"\n                          $nextTick(() => (endoso.fecha_emision = null))\n                        \"\n                    clearable\n                    label=\"Fecha de Emisión\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  v-model=\"endoso.fecha_emision\"\n                  clearable\n                  color=\"primary lighten-1\"\n                  no-title\n                  scrollable\n                  locale=\"es-la\"\n                  @input=\"fechaEmision = false\"\n                >\n                </v-date-picker>\n              </v-menu>\n            </v-col>\n            <v-col class=\" mt-0 py-0\">\n              <v-text-field\n                v-model=\"endoso.numero_endoso\"\n                label=\"Número de Endoso\"\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-checkbox\n                v-model=\"endoso.completo\"\n                label=\"Completo\"\n              ></v-checkbox>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-container>\n    </v-card-text>\n    <v-card-actions class=\"d-flex justify-end\">\n      <v-btn\n        class=\"mb-2\"\n        color=\"red\"\n        text\n        @click=\"closeModal\"\n      >Cerrar</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-if=\"!edicion2\"\n        color=\"green\"\n        @click=\"create\"\n        text\n        native-type=\"submit\"\n      >Crear</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-else\n        @click=\"update\"\n        text\n        color=\"green\"\n      >Guardar</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { helpers } from \"../../../../helpers\";\n\nexport default {\n  mixins: [helpers],\n  data: () => ({\n    fechaSolicitud: false,\n    fechaEmision: false\n  }),\n  computed: {\n    ...mapState(\"endoso\", [\"endoso\", \"tipo_endosos\", \"detalle_endosos\"]),\n    ...mapState(\"modal\", [\"modal2\", \"edicion2\"]),\n    ...mapState(\"poliza\", [\"poliza\"]),\n    detalle_endosos_por_tipo() {\n      return this.endoso.tipo_endoso_id == 1\n        ? this.detalle_endosos.filter(e => e.tipo_endoso_id == 1)\n        : this.detalle_endosos.filter(e => e.tipo_endoso_id == 2);\n    }\n  },\n  methods: {\n    ...mapMutations(\"modal\", [\"HIDE_MODAL2\"]),\n    ...mapMutations(\"endoso\", [\"RESET_ENDOSO\"]),\n    ...mapActions(\"endoso\", [\"createEndoso\", \"updateEndoso\"]),\n    async create() {\n      if (this.$refs.form.validate()) {\n        this.endoso.poliza_id = this.poliza.id;\n        const createResult = await this.createEndoso(this.endoso);\n        if (createResult) {\n          this.closeModal();\n        }\n      }\n    },\n    async update() {\n      if (this.$refs.form.validate()) {\n        const updateResult = await this.updateEndoso(this.endoso);\n        if (updateResult) {\n          this.closeModal();\n        }\n      }\n    },\n    closeModal() {\n      this.HIDE_MODAL2(false);\n      this.RESET_ENDOSO();\n      this.$refs.form.resetValidation();\n      this.cpUsado = false;\n    }\n  },\n  watch: {\n    modal2() {\n      if (!this.modal2) {\n        this.closeModal();\n      }\n    }\n  }\n};\n</script>"],"sourceRoot":"src/views/pages/Polizas/Endosos"}]}