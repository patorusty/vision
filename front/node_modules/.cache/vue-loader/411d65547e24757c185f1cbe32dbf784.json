{"remainingRequest":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patorusty/dev/web/vision/front/src/views/pages/Polizas/Siniestros/ModalSiniestros.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patorusty/dev/web/vision/front/src/views/pages/Polizas/Siniestros/ModalSiniestros.vue","mtime":1614562232169},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaGVscGVycyB9IGZyb20gIi4uLy4uLy4uLy4uL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2hlbHBlcnNdLAogIGRhdGE6ICgpID0+ICh7CiAgICBmZWNoYURlbnVuY2lhOiBmYWxzZSwKICAgIGZlY2hhU2luaXN0ZXN0cm86IGZhbHNlLAogICAgZmVjaGFDb21wbGV0bzogZmFsc2UsCiAgICB0aXBvX3JlY2xhbW9zOiBbCiAgICAgIHsgdmFsdWU6ICJEQcORTyBBIEFTRUdVUkFETyAoUmVjbGFtbyBhIFRlcmNlcm8pIiB9LAogICAgICB7IHZhbHVlOiAiREHDkU8gQSBBU0VHVVJBRE8gKENsZWFzKSIgfSwKICAgICAgeyB2YWx1ZTogIkRBw5FPIEEgQVNFR1VSQURPIChDaWEuIHZzIENpYS4pIiB9LAogICAgICB7IHZhbHVlOiAiREHDkU8gUEFSQ0lBTCAoVG9kbyBSaWVzZ28pIiB9LAogICAgICB7IHZhbHVlOiAiU0lOIFJFQ0xBTU8gKERhw7FvIGEgVGVyY2VybykiIH0KICAgIF0sCiAgICBlc3RhZG9zOiBbCiAgICAgIHsgdmFsdWU6ICJBYmllcnRvIiB9LAogICAgICB7IHZhbHVlOiAiQWJpZXJ0byAoUmVjbGFtbyBMZWdhbCkiIH0sCiAgICAgIHsgdmFsdWU6ICJDZXJyYWRvIiB9LAogICAgICB7IHZhbHVlOiAiQ2VycmFkbyAoUmVjbGFtbyBwb3IgY3VlbnRhIHByb3BpYSkiIH0KICAgIF0KICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoInNpbmllc3RybyIsIFsic2luaWVzdHJvIl0pLAogICAgLi4ubWFwU3RhdGUoInBvbGl6YSIsIFsicG9saXphIl0pLAogICAgLi4ubWFwU3RhdGUoIm1vZGFsIiwgWyJtb2RhbDMiLCAiZWRpY2lvbjMiXSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoInNpbmllc3RybyIsIFsiY3JlYXRlU2luaWVzdHJvIiwgInVwZGF0ZVNpbmllc3RybyJdKSwKICAgIC4uLm1hcE11dGF0aW9ucygic2luaWVzdHJvIiwgWyJSRVNFVF9TSU5JRVNUUk8iXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoIm1vZGFsIiwgWyJISURFX01PREFMMyJdKSwKICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuSElERV9NT0RBTDMoZmFsc2UpOwogICAgICB0aGlzLlJFU0VUX1NJTklFU1RSTygpOwogICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXRWYWxpZGF0aW9uKCk7CiAgICAgIHRoaXMuY3BVc2FkbyA9IGZhbHNlOwogICAgfSwKICAgIGFzeW5jIGNyZWF0ZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5zaW5pZXN0cm8ucG9saXphX2lkID0gdGhpcy5wb2xpemEuaWQ7CiAgICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgdGhpcy5jcmVhdGVTaW5pZXN0cm8odGhpcy5zaW5pZXN0cm8pOwogICAgICAgIGlmIChjcmVhdGVSZXN1bHQpIHsKICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFzeW5jIHVwZGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgY29uc3QgdXBkYXRlUmVzdWx0ID0gYXdhaXQgdGhpcy51cGRhdGVTaW5pZXN0cm8odGhpcy5zaW5pZXN0cm8pOwogICAgICAgIGlmICh1cGRhdGVSZXN1bHQpIHsKICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1vZGFsMigpIHsKICAgICAgaWYgKCF0aGlzLm1vZGFsMykgewogICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ModalSiniestros.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ModalSiniestros.vue","sourceRoot":"src/views/pages/Polizas/Siniestros","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      <span>Siniestro</span>\n    </v-card-title>\n    <v-card-text>\n      <v-container>\n        <v-form ref=\"form\">\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-text-field\n                v-model=\"siniestro.numero_siniestro\"\n                label=\"Número de Siniestro\"\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-col>\n            <v-col class=\" mt-0 py-0\">\n              <v-menu\n                v-model=\"fechaDenuncia\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    :value=\"formatDate(siniestro.fecha_denuncia)\"\n                    @click:clear=\"\n                          $nextTick(() => (siniestro.fecha_denuncia = null))\n                        \"\n                    clearable\n                    label=\"Fecha de Denuncia\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  v-model=\"siniestro.fecha_denuncia\"\n                  clearable\n                  color=\"primary lighten-1\"\n                  no-title\n                  scrollable\n                  locale=\"es-la\"\n                  @input=\"fechaDenuncia = false\"\n                >\n                </v-date-picker>\n              </v-menu>\n            </v-col>\n            <v-col\n              cols=\"6\"\n              class=\" mt-0 py-0\"\n            >\n              <v-select\n                label=\"Estado de Siniestro\"\n                v-model=\"siniestro.estado_siniestro\"\n                :items=\"estados\"\n                item-text=\"value\"\n                item-value=\"value\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-menu\n                v-model=\"fechaSinistestro\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    :value=\"formatDate(siniestro.fecha_siniestro)\"\n                    @click:clear=\"\n                          $nextTick(() => (siniestro.fecha_siniestro = null))\n                        \"\n                    clearable\n                    label=\"Fecha de Siniestro\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  v-model=\"siniestro.fecha_siniestro\"\n                  clearable\n                  color=\"primary lighten-1\"\n                  no-title\n                  scrollable\n                  locale=\"es-la\"\n                  @input=\"fechaSinistestro = false\"\n                >\n                </v-date-picker>\n              </v-menu>\n            </v-col>\n            <v-col class=\" mt-0 py-0\">\n              <v-menu\n                v-model=\"fechaCompleto\"\n                :close-on-content-click=\"false\"\n                transition=\"scale-transition\"\n                offset-y\n                min-width=\"290px\"\n              >\n                <template v-slot:activator=\"{ on }\">\n                  <v-text-field\n                    :value=\"formatDate(siniestro.fecha_completo)\"\n                    @click:clear=\"\n                          $nextTick(() => (siniestro.fecha_completo = null))\n                        \"\n                    clearable\n                    label=\"Completo\"\n                    v-on=\"on\"\n                  ></v-text-field>\n                </template>\n                <v-date-picker\n                  v-model=\"siniestro.fecha_completo\"\n                  clearable\n                  color=\"primary lighten-1\"\n                  no-title\n                  scrollable\n                  locale=\"es-la\"\n                  @input=\"fechaCompleto = false\"\n                >\n                </v-date-picker>\n              </v-menu>\n            </v-col>\n            <v-col\n              cols=\"6\"\n              class=\" mt-0 py-0\"\n            >\n              <v-select\n                label=\"Tipo de Reclamo\"\n                v-model=\"siniestro.tipo_reclamo\"\n                :items=\"tipo_reclamos\"\n                item-text=\"value\"\n                item-value=\"value\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\" mt-0 py-0\">\n              <v-textarea\n                v-model=\"siniestro.detalle\"\n                class=\"mt-0 pt-0\"\n                label=\"Detalle\"\n              ></v-textarea>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-container>\n    </v-card-text>\n    <v-card-actions class=\"d-flex justify-end\">\n      <v-btn\n        class=\"mb-2\"\n        color=\"red\"\n        text\n        @click=\"closeModal\"\n      >Cerrar</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-if=\"!edicion3\"\n        color=\"green\"\n        @click=\"create\"\n        text\n        native-type=\"submit\"\n      >Crear</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-else\n        @click=\"update\"\n        text\n        color=\"green\"\n      >Guardar</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { helpers } from \"../../../../helpers\";\n\nexport default {\n  mixins: [helpers],\n  data: () => ({\n    fechaDenuncia: false,\n    fechaSinistestro: false,\n    fechaCompleto: false,\n    tipo_reclamos: [\n      { value: \"DAÑO A ASEGURADO (Reclamo a Tercero)\" },\n      { value: \"DAÑO A ASEGURADO (Cleas)\" },\n      { value: \"DAÑO A ASEGURADO (Cia. vs Cia.)\" },\n      { value: \"DAÑO PARCIAL (Todo Riesgo)\" },\n      { value: \"SIN RECLAMO (Daño a Tercero)\" }\n    ],\n    estados: [\n      { value: \"Abierto\" },\n      { value: \"Abierto (Reclamo Legal)\" },\n      { value: \"Cerrado\" },\n      { value: \"Cerrado (Reclamo por cuenta propia)\" }\n    ]\n  }),\n  computed: {\n    ...mapState(\"siniestro\", [\"siniestro\"]),\n    ...mapState(\"poliza\", [\"poliza\"]),\n    ...mapState(\"modal\", [\"modal3\", \"edicion3\"])\n  },\n  methods: {\n    ...mapActions(\"siniestro\", [\"createSiniestro\", \"updateSiniestro\"]),\n    ...mapMutations(\"siniestro\", [\"RESET_SINIESTRO\"]),\n    ...mapMutations(\"modal\", [\"HIDE_MODAL3\"]),\n    closeModal() {\n      this.HIDE_MODAL3(false);\n      this.RESET_SINIESTRO();\n      this.$refs.form.resetValidation();\n      this.cpUsado = false;\n    },\n    async create() {\n      if (this.$refs.form.validate()) {\n        this.siniestro.poliza_id = this.poliza.id;\n        const createResult = await this.createSiniestro(this.siniestro);\n        if (createResult) {\n          this.closeModal();\n        }\n      }\n    },\n    async update() {\n      if (this.$refs.form.validate()) {\n        const updateResult = await this.updateSiniestro(this.siniestro);\n        if (updateResult) {\n          this.closeModal();\n        }\n      }\n    }\n  },\n  watch: {\n    modal2() {\n      if (!this.modal3) {\n        this.closeModal();\n      }\n    }\n  }\n};\n</script>\n\n<style>\n</style>"]}]}