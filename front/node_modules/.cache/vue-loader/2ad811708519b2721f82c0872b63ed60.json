{"remainingRequest":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/patorusty/dev/web/vision/front/src/views/pages/Administracion/Companias/Coberturas/ModalCoberturas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/patorusty/dev/web/vision/front/src/views/pages/Administracion/Companias/Coberturas/ModalCoberturas.vue","mtime":1613949151487},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/patorusty/dev/web/vision/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgaGVscGVycyB9IGZyb20gIi4uLy4uLy4uLy4uLy4uL2hlbHBlcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG1peGluczogW2hlbHBlcnNdLAogIGRhdGE6ICgpID0+ICh7CiAgICBydWxlczogewogICAgICByZXF1aXJlZDogdmFsdWUgPT4gISF2YWx1ZSB8fCAiRXN0ZSBjYW1wbyBvYmxpZ2F0b3JpbyIKICAgIH0sCiAgICBhanVzdGVzOiBbIjAgJSIsICIxMCAlIiwgIjIwICUiLCAiMzAgJSJdCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKCJjb21wYW5pYSIsIFsiY29tcGFuaWEiXSksCiAgICAuLi5tYXBTdGF0ZSgiY29iZXJ0dXJhIiwgWyJjb2JlcnR1cmEiXSksCiAgICAuLi5tYXBTdGF0ZSgibW9kYWwiLCBbIm1vZGFsMyIsICJlZGljaW9uMyJdKQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygiY29iZXJ0dXJhIiwgWwogICAgICAicmVzZXRDb2JlcnR1cmFTdGF0ZSIsCiAgICAgICJ1cGRhdGVDb2JlcnR1cmEiLAogICAgICAiY3JlYXRlQ29iZXJ0dXJhIgogICAgXSksCiAgICAuLi5tYXBNdXRhdGlvbnMoIm1vZGFsIiwgWyJISURFX01PREFMMyJdKSwKICAgIC4uLm1hcE11dGF0aW9ucygiY29iZXJ0dXJhIiwgWyJSRVNFVF9DT0JFUlRVUkEiXSksCiAgICBhc3luYyBjcmVhdGUoKSB7CiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuY29iZXJ0dXJhLmNvbXBhbmlhX2lkID0gdGhpcy5jb21wYW5pYS5pZDsKICAgICAgICBjb25zdCBjcmVhdGVSZXN1bHQgPSBhd2FpdCB0aGlzLmNyZWF0ZUNvYmVydHVyYSh0aGlzLmNvYmVydHVyYSk7CiAgICAgICAgaWYgKGNyZWF0ZVJlc3VsdCkgewogICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgdXBkYXRlKCkgewogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICBjb25zdCB1cGRhdGVSZXN1bHQgPSBhd2FpdCB0aGlzLnVwZGF0ZUNvYmVydHVyYSh0aGlzLmNvYmVydHVyYSk7CiAgICAgICAgaWYgKHVwZGF0ZVJlc3VsdCkgewogICAgICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xvc2VNb2RhbCgpIHsKICAgICAgdGhpcy5ISURFX01PREFMMyhmYWxzZSk7CiAgICAgIHRoaXMuUkVTRVRfQ09CRVJUVVJBKCk7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsKICAgICAgdGhpcy5jb2JVc2FkYSA9IGZhbHNlOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG1vZGFsMygpIHsKICAgICAgaWYgKCF0aGlzLm1vZGFsMykgewogICAgICAgIHRoaXMuY2xvc2VNb2RhbCgpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["ModalCoberturas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ModalCoberturas.vue","sourceRoot":"src/views/pages/Administracion/Companias/Coberturas","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      <span>Cobertura</span>\n    </v-card-title>\n    <v-card-text class=\"pb-0\">\n      <v-container>\n        <v-form ref=\"form\">\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"Nombre\"\n                v-model=\"cobertura.nombre\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-switch\n                v-model=\"cobertura.todo_riesgo\"\n                label=\"Todo Riesgo\"\n              ></v-switch>\n            </v-col>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"Franquicia\"\n                v-model=\"cobertura.franquicia\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-text-field\n                v-uppercase\n                label=\"AntigÃ¼edad\"\n                v-model=\"cobertura.antiguedad\"\n                :rules=\"[\n                  rules.required,\n                ]\"\n              >\n              </v-text-field>\n            </v-col>\n            <v-col class=\"py-0\">\n              <v-select\n                label=\"Ajuste\"\n                v-model=\"cobertura.ajuste\"\n                :items=\"ajustes\"\n                :rules=\"[rules.required]\"\n              >\n              </v-select>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-textarea\n                rows=\"2\"\n                label=\"Detalle\"\n                v-model=\"cobertura.detalle\"\n              >\n              </v-textarea>\n            </v-col>\n          </v-row>\n          <v-row>\n            <v-col class=\"py-0\">\n              <v-switch\n                v-model=\"cobertura.activo\"\n                label=\"Cobertura Activa?\"\n              ></v-switch>\n            </v-col>\n          </v-row>\n        </v-form>\n      </v-container>\n    </v-card-text>\n    <v-card-actions class=\" pt-0 d-flex justify-end\">\n      <v-btn\n        class=\"mb-2\"\n        color=\"red\"\n        text\n        @click=\"closeModal\"\n      >Cerrar</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-if=\"!edicion3\"\n        color=\"green\"\n        @click=\"create\"\n        text\n        native-type=\"submit\"\n      >Crear</v-btn>\n      <v-btn\n        class=\"mb-2\"\n        v-else\n        @click=\"update\"\n        text\n        color=\"green\"\n      >Guardar</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { helpers } from \"../../../../../helpers\";\n\nexport default {\n  mixins: [helpers],\n  data: () => ({\n    rules: {\n      required: value => !!value || \"Este campo obligatorio\"\n    },\n    ajustes: [\"0 %\", \"10 %\", \"20 %\", \"30 %\"]\n  }),\n  computed: {\n    ...mapState(\"compania\", [\"compania\"]),\n    ...mapState(\"cobertura\", [\"cobertura\"]),\n    ...mapState(\"modal\", [\"modal3\", \"edicion3\"])\n  },\n  methods: {\n    ...mapActions(\"cobertura\", [\n      \"resetCoberturaState\",\n      \"updateCobertura\",\n      \"createCobertura\"\n    ]),\n    ...mapMutations(\"modal\", [\"HIDE_MODAL3\"]),\n    ...mapMutations(\"cobertura\", [\"RESET_COBERTURA\"]),\n    async create() {\n      if (this.$refs.form.validate()) {\n        this.cobertura.compania_id = this.compania.id;\n        const createResult = await this.createCobertura(this.cobertura);\n        if (createResult) {\n          this.closeModal();\n        }\n      }\n    },\n    async update() {\n      if (this.$refs.form.validate()) {\n        const updateResult = await this.updateCobertura(this.cobertura);\n        if (updateResult) {\n          this.closeModal();\n        }\n      }\n    },\n    closeModal() {\n      this.HIDE_MODAL3(false);\n      this.RESET_COBERTURA();\n      this.$refs.form.resetValidation();\n      this.cobUsada = false;\n    }\n  },\n  watch: {\n    modal3() {\n      if (!this.modal3) {\n        this.closeModal();\n      }\n    }\n  }\n};\n</script>\n\n<style>\n</style>"]}]}